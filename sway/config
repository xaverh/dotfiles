# Hardware specific
#######################################

input "2:8:AlpsPS/2_ALPS_GlidePoint" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

input "type:keyboard" {
    xkb_layout de
    xkb_variant nodeadkeys
    xkb_options compose:rctrl-altgr
    xkb_model latitude
    xkb_numlock enabled
}

# style
#######################################

# Graphite Black
set $color_K "#171717"
# Deep Cerise
set $color_R "#e32791"
# Shamrock
set $color_G "#30c798"
# Chenin
set $color_Y "#e3c472"
# Cornflower Blue
set $color_B "#6796e6"
# Plum
set $color_M "#e59fdf"
# Riptide
set $color_C "#81d8d0"
# Pearl Light Grey
set $color_W "#999999"
# Dark Grey
set $color_k "#515151"
# Hot Pink
set $color_r "#e466ad"
# Medium Aquamarine
set $color_g "#6cd1b2"
# Double Colonial White
set $color_y "#e4cf98"
# Jordy Blue
set $color_b "#91b0e6"
# French Lilac
set $color_m "#e5b6e1"
# Sinbad
set $color_c "#a2dcd7"
# Code Grey
set $color_w "#e5e6e6"
# Burnt Orange
set $color_X "#ff7135"
# Umbra Grey
set $color_J "#333333"
# Jet Black
set $color_L "#131313"
# Cyprus
set $color_Q "#0f3a4b"
# Love Symbol #2
set $color_P "#553a63"
# Baker's Chocolate
set $color_O "#522900"
# Cerulean
set $color_I "#1680ac"
# Alizarin
set $color_E "#ed2939"
# Gamboge
set $color_A "#e9a700"

# output "*" bg ~/.local/wallpapers/qillqaq/MKQeftK.jpg fill
output "*" bg ~/.local/wallpapers/ysgrifennwr/index.jpeg fill
output HDMI-A-3 bg ~/.local/wallpapers/common/isprwz.jpg fill

set $borderwidth 1

font IBM Plex Sans 9
default_border pixel $borderwidth
default_floating_border normal $borderwidth
gaps inner 5
gaps outer 5
smart_gaps on

# class                 border   backgr.  text     indicator child_border
client.focused          $color_X $color_J $color_w $color_R  $color_X
client.focused_inactive $color_L $color_K $color_w #484e50   #5f676a
client.unfocused        $color_K $color_K $color_w #292d2e   #222222
client.urgent           #2f343a  #900000  $color_w #900000   #900000
client.placeholder      $color_K #0c0c0c  $color_w $color_K  #0c0c0c
client.background                #ffffff


# launching
#######################################

bindsym Mod4+space exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty --class "TerminalLauncher" bash -c "echo -n $PATH | xargs -d: -I{} -r -- find -L {} -maxdepth 1 -mindepth 1 -type f -executable -printf '%P\n' 2>/dev/null | fzf --border --reverse | xargs swaymsg exec --"
bindsym Mod4+e exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty -o "initial_window_width 800" -o "initial_window_height 300" --class TerminalLauncher bash -ic "cat ~/.config/awesome/emoji.txt | fzf --border --reverse | awk '{printf \$1}' | wl-copy -n"
bindsym Mod4+z exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty --class TerminalLauncher bash -c 'find ~ -type f -iname "*.pdf" -o -iname "*.epub" -o -iname "*.cbz" -o -iname "*.djvu" -o -iname "*.ps" | fzf --border --reverse --print0 | (nohup xargs -0 -I{} zathura {} >/dev/null 2>&1 &)'
# TODO client specific behavior of Ctrl+Q ?
bindsym Mod4+Shift+q kill
bindsym Mod4+Return exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty
bindsym Mod4+i exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty --class TerminalLauncher clipman pick --max-items=1000 --histpath=$XDG_RUNTIME_DIR/clipman-primary.json --print0 --tool=CUSTOM --tool-args="fzf --prompt 'clipboard: ' --bind 'tab:up' --cycle --read0"
bindsym Mod4+Shift+i exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty --class TerminalLauncher clipman clear --max-items=1000 --histpath=$XDG_RUNTIME_DIR/clipman-primary.json --print0 --tool=CUSTOM --tool-args="fzf --prompt '♻️ clipboard: ' --bind 'tab:up' --cycle --read0"
bindsym Mod4+n exec kitty -1 --instance-group terminal --listen-on=unix:@mykitty --title nnn /run/current-system/sw/bin/bash -ic n
bindsym Mod4+F9 exec kitty @ --to=unix:@mykitty get-colors -c | grep 424242 >/dev/null && kitty @ --to=unix:@mykitty  set-colors --reset || kitty @ --to=unix:@mykitty set-colors -a -c /etc/xdg/kitty/ysgrifennwr.conf

bindsym Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') ~/tmp/screenshot_\"`date --rfc-3339=ns`\".png
bindsym Mod4+Print exec grim -g \"`slurp`\" ~/tmp/screenshot_\"`date --rfc-3339=ns`\".png
bindsym Shift+Print exec grim ~/tmp/screenshot_\"`date --rfc-3339=ns`\".png

set $mode_launcher Launch:<span background='#e66000' foreground='#e5e6e6'> <u>F</u>irefox </span><span background='#0066b8' foreground='#e5e6e6'> Visual Studio <u>C</u>ode </span>
bindsym Mod4+o mode "$mode_launcher"
mode --pango_markup "$mode_launcher" {
    bindsym f exec firefox; mode "default"
    bindsym c exec code -n; mode "default"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}

# [FIXME]
bindsym XF86AudioRaiseVolume exec pamixer --get-mute && pamixer -u || pamixer -i 2 && echo `pamixer --get-volume` \"#dd${QOLOR_K:1}\" \"#dd${QOLOR_w:1}\" \"#dd${QOLOR_X:1}\" > $SWAYSOCK.wob
bindsym XF86AudioLowerVolume exec pamixer --get-mute && pamixer -u || pamixer -d 2 && echo `pamixer --get-volume` \"#dd${QOLOR_K:1}\" \"#dd${QOLOR_w:1}\" \"#dd${QOLOR_Q:1}\" > $SWAYSOCK.wob
bindsym XF86AudioMute exec pamixer -m && pamixer --get-mute && echo 0 \"#dd${QOLOR_R:1}\" \"#dd${QOLOR_K:1}\" \"#dd${QOLOR_w:1}\" > $SWAYSOCK.wob

bindsym XF86MonBrightnessUp exec light -A 5 && light -G | cut -d'.' -f1 > $SWAYSOCK.wob
bindsym XF86MonBrightnessDown exec light -U 5 && light -G | cut -d'.' -f1 > $SWAYSOCK.wob

# tiling behavior
#######################################

default_orientation auto

hide_edge_borders --i3 smart
# bindsym Mod4+BackSpace border toggle $borderwidth

bindsym Mod4+Shift+Return layout toggle all
bindsym Mod4+s splitt
focus_wrapping workspace
bindsym Mod4+u [tiling] focus

bindsym Mod1+Tab focus output right
bindsym Mod1+Shift+Tab move workspace to output right
bindsym Mod4+Tab focus right
bindsym Mod4+Shift+Tab focus left
bindcode Mod1+49 focus mode_toggle
bindcode Mod4+49 focus down
bindcode Mod4+Shift+49 focus up
bindcode Mod4+Escape move left; move right

bindsym Mod4+h resize shrink width 2px
bindsym Mod4+j resize grow height 2px
bindsym Mod4+k resize shrink height 2px
bindsym Mod4+l resize grow width 2px
bindsym Mod4+Left resize shrink width 2px
bindsym Mod4+Down resize grow height 2px
bindsym Mod4+Up resize shrink height 2px
bindsym Mod4+Right resize grow width 2px

bindsym Mod4+Shift+h move left
bindsym Mod4+Shift+j move down
bindsym Mod4+Shift+k move up
bindsym Mod4+Shift+l move right
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+Right move right

# floating behavior
#######################################

floating_modifier Mod4 normal
floating_maximum_size 1320 x 710

bindsym Mod4+Shift+c reload
bindsym Mod4+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'


# Workspaces:
#######################################

bindsym Mod4+1 workspace number 1
bindsym Mod4+2 workspace number 2: 
bindsym Mod4+3 workspace number 3
bindsym Mod4+4 workspace number 4
bindsym Mod4+5 workspace number 5
bindsym Mod4+6 workspace number 6
bindsym Mod4+7 workspace number 7
bindsym Mod4+8 workspace number 8
bindsym Mod4+9 workspace number 9
bindsym Mod4+0 workspace 0: 💩
bindsym Mod4+ssharp workspace 100: ß
bindsym Mod4+F12 workspace 🧻

bindsym Mod4+Shift+1 move container to workspace number 1
bindsym Mod4+Shift+2 move container to workspace number 2: 
bindsym Mod4+Shift+3 move container to workspace number 3
bindsym Mod4+Shift+4 move container to workspace number 4
bindsym Mod4+Shift+5 move container to workspace number 5
bindsym Mod4+Shift+6 move container to workspace number 6
bindsym Mod4+Shift+7 move container to workspace number 7
bindsym Mod4+Shift+8 move container to workspace number 8
bindsym Mod4+Shift+9 move container to workspace number 9
bindsym Mod4+Shift+0 move container to workspace 0: 💩

workspace 1 output HDMI-A-2
workspace 2 output HDMI-A-2
workspace 3 output HDMI-A-2
workspace 4 output HDMI-A-2
workspace 5 output HDMI-A-2
workspace 6 output HDMI-A-2
workspace 7 output HDMI-A-3
workspace 8 output HDMI-A-3
workspace 9 output HDMI-A-3
workspace 10 output HDMI-A-3

assign [app_id="^org.strawberrymusicplayer.$"] → number "6: 🍓"
assign [app_id="^🇬🇧💋$"] → number "6: 🇬🇧💋"
assign [app_id="^🇬🇧🔥$"] → number "6: 🇬🇧🔥"
assign [app_id="^🇬🇧🧑🏿‍🎤$"] → number "6: 🇬🇧🧑🏿‍🎤"
assign [app_id="^🇬🇧🎸$"] → number "6: 🇬🇧🎸"
assign [app_id="^🇬🇧🎻$"] → number "6: 🇬🇧🎻"
assign [app_id="^🇬🇧🎙️$"] → number "6: 🇬🇧🎙️"
assign [app_id="^🇬🇧⚽$"] → number "6: 🇬🇧⚽"
assign [app_id="^🇬🇧🏏$"] → number "6: 🇬🇧🏏"
assign [app_id="^🇬🇧🥑$"] → number "6: 🇬🇧🥑"
assign [app_id="^🇬🇧🛕$"] → number "6: 🇬🇧🛕"
assign [app_id="^🇬🇧🏴󠁧󠁢󠁷󠁬󠁳󠁿$"] → number "6: 🇬🇧🏴󠁧󠁢󠁷󠁬󠁳󠁿"
assign [app_id="^🇬🇧🌏$"] → number "6: 🇬🇧🌏"
assign [app_id="^🇺🇸🪕$"] → number "6: 🇺🇸🪕"
assign [class="^Code$"] → number "2: "
for_window [app_id="^TerminalLauncher$"] floating enable, border none

focus_follows_mouse yes
mouse_warping output

# Make the current focus fullscreen
bindsym Mod4+f fullscreen
# Toggle the current focus between tiling and floating mode
bindsym Mod4+Shift+space floating toggle
# Move focus to the parent container
bindsym Mod4+a focus parent

bindsym Mod4+Shift+minus move scratchpad
bindsym Mod4+minus scratchpad show

set $radio_mode "Radio 📻: G:🇬🇧   D:🇩🇪   A:🇦🇹   E:🇪🇸   S:🇨🇭   U:🇺🇸   C:🇨🇴"
set $radio_mode_de "🇩🇪📻: <span background='#00a0d6' foreground='#fcfefe'>Bayern <u>1</u> Oberbayern 🎸</span> <span background='#ff6b00' foreground='#ffffff'>Bayern <u>2</u> Süd 🎙️</span> <span background='#a2be35' foreground='#ffffff'>Bayern <u>3</u> 🔥</span> <span background='#ffffff' foreground='#e72b37'>BR <u>K</u>lassik 🎻</span> <span background='#db015e' foreground='#fefefe'>B<u>5</u> aktuell 📰</span> <span background='#db015e' foreground='#004386'>B5 <u>p</u>lus ⚽</span> <span background='#7ea2d1' foreground='#effcfe'>Bayern plus (<u>+</u>) 🍺</span> <span background='#000000' foreground='#ffffff'>P<u>u</u>ls 🥑</span> <span background='#003c7e' foreground='#ffffff'>BR <u>H</u>eimat 🏔️</span>"
set $radio_mode_gb "🇬🇧📻: <span background='#ffffff' foreground='#5d2466'><u>K</u>ISS 100 London 💋</span> <span background='#000000' foreground='#ffffff'>BBC Radio <u>1</u> 🔥</span> <span background='#000000' foreground='#ffffff'>BBC Radio 1<u>X</u>tra 🧑🏿‍🎤</span> <span background='#ec7a08' foreground='#ffffff'>BBC Radio <u>2</u> 🎸</span> <span background='#d93639' foreground='#ffffff'>BBC Radio <u>3</u> 🎻</span> <span background='#003c73' foreground='#ffffff'>BBC Radio <u>4</u> 🎙️</span> <span background='#814292' foreground='#ffffff'>BBC Radio 4 <u>E</u>xtra 🎙️</span> <span background='#00bce0' foreground='#ffffff'>BBC Radio <u>5</u> live ⚽</span> <span background='#639c30' foreground='#ffffff'>BBC Radio 5 <u>l</u>ive sports extra 🏏</span> <span background='#477f80' foreground='#ffffff'>BBC Radio <u>6</u> Music 🥑</span> <span background='#bf311a' foreground='#ffffff'><u>B</u>BC World Service 🌍</span> <span background='#ff7d10' foreground='#ffffff'>BBC Radio <u>W</u>ales 🏴󠁧󠁢󠁷󠁬󠁳󠁿</span> <span background='#6d2971' foreground='#ffffff'>BBC Radio <u>S</u>cotland 🏴󠁧󠁢󠁳󠁣󠁴󠁿</span> <span background='#e5007e' foreground='#ffffff'>BBC <u>A</u>sian Network 🛕</span>"
set $radio_mode_us "🇺🇸📻: <span background='#ffbf54' foreground='#231f21'>W<u>D</u>VX—East Tennessee’s Own 🪕</span>"

set $radio_mode_at "🇦🇹📻:"
set $radio_mode_es "🇪🇸📻:"
set $radio_mode_ch "🇨🇭📻:"
set $radio_mode_co "🇨🇴📻:"
mode $radio_mode {
    bindsym Escape mode "default"
    bindsym d mode $radio_mode_de
    bindsym g mode $radio_mode_gb
    bindsym u mode $radio_mode_us
    bindsym a mode $radio_mode_at
    bindsym e mode $radio_mode_es
    bindsym s mode $radio_mode_ch
    bindsym c mode $radio_mode_co
}
bindsym Mod4+r mode $radio_mode

mode --pango_markup $radio_mode_de {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
}
mode --pango_markup $radio_mode_gb {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
    bindsym k exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧💋 mpv "https://stream-kiss.planetradio.co.uk/kissnational.aac?direct=true&listenerid=undefined&aw_0_1st.bauer_listenerid=undefined&amsparams=playerid:BMUK_html5;skey:`date +%s`;&aw_0_1st.playerid=BMUK_html5&aw_0_1st.skey=`date +%s`&aw_0_1st.bauer_loggedin=false&awparams=loggedin:false;&aw_0_req.userConsent=false" ; mode default
    bindsym 1 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🔥 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_one.m3u8 ; mode default
    bindsym Shift+1 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🔥 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_one.m3u8 ; mode default
    bindsym x exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🧑🏿‍🎤 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_1xtra.m3u8 ; mode default
    bindsym Shift+x exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🧑🏿‍🎤 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_1xtra.m3u8 ; mode default
    bindsym 2 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎸 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_two.m3u8 ; mode default
    bindsym Shift+2 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎸 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_two.m3u8 ; mode default
    bindsym 3 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎻 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_three.m3u8 ; mode default
    bindsym Shift+3 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎻 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_three.m3u8 ; mode default
    bindsym 4 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎙️ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_fourfm.m3u8 ; mode default
    bindsym Shift+4 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎙️ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_fourfm.m3u8 ; mode default
    bindsym e exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎙️ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_four_extra.m3u8 ; mode default
    bindsym Shift+e exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🎙️ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_four_extra.m3u8 ; mode default
    bindsym 5 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧⚽ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_five_live.m3u8 ; mode default
    bindsym Shift+5 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧⚽ mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_five_live.m3u8 ; mode default
    bindsym l exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🏏 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_five_live_sports_extra.m3u8 ; mode default
    bindsym Shift+l exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🏏 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_five_live_sports_extra.m3u8 ; mode default
    bindsym 6 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🥑 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_6music.m3u8 ; mode default
    bindsym Shift+6 exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🥑 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_6music.m3u8 ; mode default
    bindsym a exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🛕 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_asian_network.m3u8 ; mode default
    bindsym Shift+a exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🛕 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_asian_network.m3u8 ; mode default
    bindsym w exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🏴󠁧󠁢󠁷󠁬󠁳󠁿 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_low/ak/bbc_radio_wales_fm.m3u8 ; mode default
    bindsym Shift+w exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🏴󠁧󠁢󠁷󠁬󠁳󠁿 mpv http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_radio_wales_fm.m3u8 ; mode default
    bindsym b exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🌏 mpv http://bbcwssc.ic.llnwd.net/stream/bbcwssc_mp1_ws-einws ; mode default
    bindsym Shift+b exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇬🇧🌏 mpv http://bbcwssc.ic.llnwd.net/stream/bbcwssc_mp1_ws-einws_backup ; mode default
}
mode --pango_markup $radio_mode_us {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
    bindsym d exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇺🇸🪕 mpv https://wdvx.streamguys1.com/live.xspf ; mode default
    bindsym Shift+d exec kitty -1 --instance-group kittyradio --listen-on=unix:@mykittyradio  --class 🇺🇸🪕 mpv https://wdvx.streamguys1.com/live.m3u ; mode default
}
mode $radio_mode_at {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
}
mode $radio_mode_es {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
}
mode $radio_mode_ch {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
}
mode $radio_mode_co {
    bindsym BackSpace mode $radio_mode
    bindsym Escape mode default
}


bar {
    position top

    # When the status_command prints a new line to stdout, swaybar updates.
    # The default just shows the current date and time.
    # status_command $XDG_CONFIG_HOME/sway/stabilisator_bak
    status_command ~/.config/sway/stabilisator
    # status_command swaymsg -t subscribe -m \'\[\"window\"\]\' | jq -r .container.name
    swaybar_command swaybar
    font pango:IBM Plex Sans Condensed SemiBold 9
    colors {
        statusline $color_w
        background #171717
        binding_mode #e1e1e1 #ffff00 #171717
        inactive_workspace #171717 #171717 #e5e6e6
        focused_workspace #005577 #002FA7 #e5e6e6
    }
}

#######################################
# Autostart
#######################################

exec kanshi
exec wl-paste -t text --watch clipman store --max-items=1000 --histpath="$XDG_RUNTIME_DIR/clipman-primary.json"
exec mako
exec mkfifo $SWAYSOCK.wob && tail -f $SWAYSOCK.wob | wob
exec mega-login
